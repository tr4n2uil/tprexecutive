<script id="tpl-qstn-tcs" type="text/x-jquery-tmpl"> 	<div id="qstn-list-${message.quizid}" class="tile-content ${key}-${message.quizid} smart-panel expander-panel">		{{tmpl "#tpl-qstn-lst"}}	</div></script><script id="tpl-qstn-add" type="text/x-jquery-tmpl"> 	<span class="{{if FireSpark.core.helper.dataEquals(message.admin || message.padmin, 1)}}smart-block{{/if}} quiz-list" id="question-add-${message.quizid}">		{{tmpl({			admin : $item.data.message.admin,			name : $item.data.message.qzname,			addtxt : 'New Question',			cls : 'head'		}) "#tpl-new-menu"}}				<div id="question-add-panel-${message.quizid}" class="panel">			{{if FireSpark.core.helper.dataEquals(message.admin || message.padmin, 1)}}			<form action="run.php" method="post" class="smart-form navigate hidden" id="_write:sel._question-add-${message.quizid}:chng.hide:tpl._tpl-qstn-block:pnl._questions-${message.quizid}:act.first:anm.none">				<table class="quiz-list"><tbody>					<tr><td>Question</td>					<td><textarea name="statement" class="wysiwyg srnd" rows="15"></textarea>					<span class="error hidden">Invalid Question</span></td></tr>					<tr><td>Option 1</td>					<td><input type="text" name="option1" class="required" />					<span class="error hidden">Invalid Option</span></td></tr>					<tr><td>Option 2</td>					<td><input type="text" name="option2" class="required" />					<span class="error hidden">Invalid Option</span></td></tr>					<tr><td>Option 3</td>					<td><input type="text" name="option3"/></td></tr>					<tr><td>Option 4</td>					<td><input type="text" name="option4" /></td></tr>					<tr><td>Answer</td>					<td><input type="radio" name="answer" checked="checked" value="1" /> Option 1					<input type="radio" name="answer" value="2" /> Option 2					<input type="radio" name="answer" value="3" /> Option 3					<input type="radio" name="answer" value="4" /> Option 4</td></tr>					<tr><td>Explanation</td>					<td><textarea name="explanation" class="wysiwyg srnd" rows="15"></textarea></td></tr>					<tr><td></td><td>						<input name="submit" type="submit" value="Add Question" class="button smart-save qstn-btn"/>						<input type="hidden" name="service" value="quiz.question.add" />						<input type="hidden" name="quizid" value="${message.quizid}" />						<input type="hidden" name="qzname" value="${message.qzname}" />						<input type="hidden" name="navigator" value="{{if message.navigator}}${message.navigator}{{else}}${navigator}{{/if}}" />						<input type="reset" value="Reset" class="button qstn-btn"/>						<input type="button" value="Cancel" class="button smart-cancel qstn-btn"/>						<span class="status"></span>					</td></tr>				</tbody></table>			</form>			{{/if}}		</div>	</span></script><script id="tpl-qstn-block" type="text/x-jqery-tmpl">	<tr id="qstn-${message.question.qstid}" class="smart-panel expander-panel">		<td>			<div><a href="profile/${message.chain.user}/" class="ui midtile" style="background-image: url('storage/public/thumbnails/person/${message.chain.user}.png')"></a></div>		</td>		<td>			<span class="{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}smart-block{{/if}}" id="qstn-edit-${message.question.qstid}">				<span class="desc">					<a href="profile/${message.chain.user}/" class="ui"><strong>${message.chain.user}</strong></a>					&nbsp;&middot;&nbsp;${FireSpark.core.helper.readTime(Number(message.chain.mtime))}&nbsp;&middot;&nbsp;					{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}						<a href="#" class="smart-edit">Edit</a>&nbsp;&middot;&nbsp;						<span id="qstn-rm-${message.question.qstid}">							<input type="hidden" name="service" value="quiz.question.remove" class="data" />							<input type="hidden" name="quizid" value="${message.quizid}" class="data" />							<input type="hidden" name="qzname" value="${message.qzname}" class="data" />							<input type="hidden" name="qstid" value="${message.question.qstid}" class="data" />							<a href="#/write/div/#qstn-rm-${message.question.qstid}/~/pnl/#qstn-${message.question.qstid}/act/remove/cnf/true/" class="launch">Remove</a>							<span class="status"></span>						</span>					{{/if}}				</span>							<span class="smart-display">					<table class="quiz-list"><tbody>						<tr><td>Question</td><td><span class="expander">{{html message.question.statement}}</span></td></tr>						<tr><td>Option 1</td><td>${message.question.option1}</td></tr>						<tr><td>Option 2</td><td>${message.question.option2}</td></tr>						<tr><td>Option 3</td><td>${message.question.option3}</td></tr>						<tr><td>Option 4</td><td>${message.question.option4}</td></tr>						<tr><td>Answer</td><td>Option ${message.question.answer}</td></tr>						<tr><td>Explanation</td><td><span class="expander">{{html message.question.explanation}}</span></td></tr>					</tbody></table>				</span>								{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}				<form class="smart-form hidden navigate" id="_write:sel._qstn-edit-${message.question.qstid}:chng.hide:tpl._tpl-qstn-block:pnl._qstn-${message.question.qstid}:act.replace:anm.none" method="post" action="run.php">					<div class="panel">					<table class="quiz-list"><tbody>						<tr><td>Question</td>						<td><textarea name="statement" class="wysiwyg srnd" rows="15">${$('<div/>').text(message.question.statement).html()}</textarea>						<span class="error hidden">Invalid Question</span></td></tr>						<tr><td>Option 1</td>						<td><input type="text" name="option1" class="required" value="${message.question.option1}" />						<span class="error hidden">Invalid Option</span></td></tr>						<tr><td>Option 2</td>						<td><input type="text" name="option2" class="required" value="${message.question.option2}" />						<span class="error hidden">Invalid Option</span></td></tr>						<tr><td>Option 3</td>						<td><input type="text" name="option3" value="${message.question.option3}" /></td></tr>						<tr><td>Option 4</td>						<td><input type="text" name="option4" value="${message.question.option4}" /></td></tr>						<tr><td>Answer</td>						<td><input type="radio" name="answer" {{if FireSpark.core.helper.dataEquals(message.question.answer, 1)}}checked="checked"{{/if}} value="1" /> Option 1						<input type="radio" name="answer" value="2" {{if FireSpark.core.helper.dataEquals(message.question.answer, 2)}}checked="checked"{{/if}}/> Option 2						<input type="radio" name="answer" value="3" {{if FireSpark.core.helper.dataEquals(message.question.answer, 3)}}checked="checked"{{/if}}/> Option 3						<input type="radio" name="answer" value="4" {{if FireSpark.core.helper.dataEquals(message.question.answer, 4)}}checked="checked"{{/if}}/> Option 4</td></tr>						<tr><td>Explanation</td>						<td><textarea name="explanation" class="wysiwyg srnd" rows="15">${$('<div/>').text(message.question.explanation).html()}</textarea></td></tr>						<tr><td></td><td>							<input type="hidden" name="quizid" value="${message.quizid}" />							<input type="hidden" name="qzname" value="${message.qzname}" />							<input type="hidden" name="qstid" value="${message.question.qstid}" />							<input type="hidden" name="service" value="quiz.question.edit" />							<input name="submit" type="submit" value="Change" class="button smart-save qstn-btn"/>							<input name="reset" type="reset" value="Cancel" class="button smart-cancel qstn-btn"/>							<span class="status"></span>						</td></tr>					</tbody></table>					</div>				</form>				{{/if}}			</span>			<br />		</td>	</tr></script><script id="tpl-qstns-block" type="text/x-jquery-tmpl"> 	{{if jQuery(message.questions).length}}	{{each message.questions}}		{{tmpl({ 			message : $.extend({				padmin : $item.data.message.padmin,				admin : $item.data.message.admin,				quizid : $item.data.message.quizid,				qzname : $item.data.message.qzname,				pchain : $item.data.message.pchain			}, $value), 			user: $item.data.user || '' }) "#tpl-qstn-block"}}	{{/each}}	{{/if}}</script><script id="tpl-qstn-lst" type="text/x-jquery-tmpl"> 	<div id="qstn-add-${message.quizid}">		{{tmpl "#tpl-qstn-add"}}	</div>		<div id="question-list-panel-${message.quizid}" >		<table class="quiz-list"><tbody id="questions-${message.quizid}">			{{tmpl "#tpl-qstns-block"}}		</tbody></table>	</div>		{{if jQuery(message.questions).length}}		{{tmpl({ 			message: {				id : $item.data.message.quizid, 				name : $item.data.message.qzname,				total : $item.data.message.total,				pgsz : $item.data.message.pgsz,				pgno : $item.data.message.pgno,			},			service: 'questions', 			panel : '#questions-' + ($item.data.id || $item.data.message.quizid), 			showpages : true,			alltxt : 'All',			tpl : '#tpl-qstns-block'		}) "#tpl-pgn-lst-new"}}	{{/if}}</script><link rel="stylesheet" href="ui/js/jwysiwyg/jquery.wysiwyg.css" type="text/css" /><script type="text/javascript" src="ui/js/jwysiwyg/jquery.wysiwyg.js"></script>