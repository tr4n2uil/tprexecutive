<script id="tpl-stge-tcs" type="text/x-jquery-tmpl"> 	<div id="stge-list-${message.shlstid}" class="${key}-${message.shlstid} smart-panel data-table-panel">		{{tmpl "#tpl-stge-lst"}}	</div></script><script id="tpl-stge-add" type="text/x-jquery-tmpl"> 	<span class="{{if FireSpark.core.helper.dataEquals(message.admin || message.padmin, 1)}}smart-block{{/if}} stage-list" id="stage-add-${message.shlstid}">		{{tmpl({			admin : $item.data.message.admin,			name : 'Stages in ' + $item.data.message.shlstname,			addtxt : 'New Stage',			cls : 'subhead'		}) "#tpl-new-menu"}}				<div id="stage-add-panel-${message.shlstid}" class="panel">			{{if FireSpark.core.helper.dataEquals(message.admin || message.padmin, 1)}}			<form action="run.php" method="post" class="smart-form navigate hidden" id="_write:sel._stage-add-${message.shlstid}:chng.hide:tpl._tpl-stge-block:pnl._stages-${message.shlstid}:act.first:anm.none">				<table class="formtable"><tbody>					<tr><td>Name</td>					<td><input type="text" name="name" class="required"  />					<span class="error hidden">Invalid Name</span></td></tr>					<tr><td>Stage No</td>					<td><input type="text" name="stage" class="required" />					<span class="error hidden">Invalid Stage No</span></td></tr>					<tr><td>Start Time</td>					<td><input type="text" name="start" class="" />					<span class="error hidden">Invalid Date/Time</span>					<span class="desc">Format YYYY-MM-DD hh:mm:ss</span></td></tr>					<tr><td>End Time</td>					<td><input type="text" name="end" class="" />					<span class="error hidden">Invalid Date/Time</span>					<span class="desc">Format YYYY-MM-DD hh:mm:ss</span></td></tr>					<tr><td></td><td>						<input name="submit" type="submit" value="Add Stage" class="button smart-save stge-btn"/>						<input type="hidden" name="service" value="shortlist.stage.add" />						<input type="hidden" name="shlstid" value="${message.shlstid}" />						<input type="hidden" name="shlstname" value="${message.shlstname}" />						<input type="hidden" name="navigator" value="{{if message.navigator}}${message.navigator}{{else}}${navigator}{{/if}}" />						<input type="reset" value="Reset" class="button stge-btn"/>						<input type="button" value="Cancel" class="button smart-cancel stge-btn"/>						<span class="status"></span>					</td></tr>				</tbody></table>			</form>			{{/if}}		</div>	</span></script><script id="tpl-stge-block" type="text/x-jqery-tmpl">	<tr id="stge-${message.stage.stageid}" class="smart-panel">		<td>${message.stage.stage}</td>		<td><p class="title"><a href="${message.stage.stageid}/candidates/${message.shlstid}/${message.shlstname}/" class="ui">${message.stage.name}</a></p></td>		<td><span class="nowrap">{{if Number(message.stage.start_ts)}}${FireSpark.core.helper.readTime(Number(message.stage.start_ts))}{{/if}}</span></td>		<td><span class="nowrap">{{if Number(message.stage.end_ts)}}${FireSpark.core.helper.readTime(Number(message.stage.end_ts))}{{/if}}</span></td>		<td>			<span class="{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}smart-block{{/if}}" id="stge-edit-${message.stage.stageid}">								<span class="smart-display"></span>								<span class="desc">					<a href="${message.stage.stageid}/candidates/${message.shlstid}/${message.shlstname}/" class="ui">Candidates</a>					{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}						&nbsp;&middot;&nbsp;<a href="#" class="smart-edit">Edit</a>&nbsp;&middot;&nbsp;						<span id="stge-rm-${message.stage.stageid}">							<input type="hidden" name="service" value="shortlist.stage.remove" class="data" />							<input type="hidden" name="shlstid" value="${message.shlstid}" class="data" />							<input type="hidden" name="shlstname" value="${message.shlstname}" class="data" />							<input type="hidden" name="stageid" value="${message.stage.stageid}" class="data" />							<a href="#/write/div/#stge-rm-${message.stage.stageid}/~/pnl/#stge-${message.stage.stageid}/act/remove/cnf/true/" class="launch">Remove</a>							<span class="status"></span>						</span>					{{/if}}				</span>							{{if FireSpark.core.helper.dataEquals(user == message.chain.user || message.padmin, true)}}				<form class="smart-form hidden navigate" id="_write:sel._stge-edit-${message.stage.stageid}:chng.hide:tpl._tpl-stge-block:pnl._stge-${message.stage.stageid}:act.replace:anm.none" method="post" action="run.php">					<div class="panel">					<table class="formtable"><tbody>						<tr><td>Name</td>						<td><input type="text" name="name" class="required" value="${message.stage.name}"  />						<span class="error hidden">Invalid Name</span></td></tr>						<tr><td>Stage No</td>						<td><input type="text" name="stage" class="required" value="${message.stage.stage}" />						<span class="error hidden">Invalid Stage No</span></td></tr>						<tr><td>Start Time</td>						<td><input type="text" name="start" class="" value="${message.stage.start}" />						<span class="error hidden">Invalid Date/Time</span>						<span class="desc">Format YYYY-MM-DD hh:mm:ss</span></td></tr>						<tr><td>End Time</td>						<td><input type="text" name="end" class="" value="${message.stage.end}" />						<span class="error hidden">Invalid Date/Time</span>						<span class="desc">Format YYYY-MM-DD hh:mm:ss</span></td></tr>						<tr><td></td><td>							<input type="hidden" name="shlstid" value="${message.shlstid}" />							<input type="hidden" name="shlstname" value="${message.shlstname}" />							<input type="hidden" name="stageid" value="${message.stage.stageid}" />							<input type="hidden" name="service" value="shortlist.stage.edit" />							<input name="submit" type="submit" value="Change" class="button smart-save stge-btn"/>							<input name="reset" type="reset" value="Cancel" class="button smart-cancel stge-btn"/>							<span class="status"></span>						</td></tr>					</tbody></table>					</div>				</form>				{{/if}}			</span>		</td>	</tr></script><script id="tpl-stges-block" type="text/x-jquery-tmpl"> 	{{if jQuery(message.stages).length}}	{{each message.stages}}		{{tmpl({ 			message : $.extend({				padmin : $item.data.message.padmin,				admin : $item.data.message.admin,				shlstid : $item.data.message.shlstid,				shlstname : $item.data.message.shlstname,				pchain : $item.data.message.pchain			}, $value), 			user: $item.data.user || '' }) "#tpl-stge-block"}}	{{/each}}	{{/if}}</script><script id="tpl-stge-lst" type="text/x-jquery-tmpl"> 	<div id="stge-add-${message.shlstid}">		{{tmpl "#tpl-stge-add"}}	</div>		<div id="stage-list-panel-${message.shlstid}" >		<table class="table-list datatable"><thead class="left">		<tr><th>Stage</th><th>Name</th><th>Start</th><th>End</th><th>Links</th></tr>		</thead><tbody id="stages-${message.shlstid}">			{{tmpl "#tpl-stges-block"}}		</tbody></table>	</div>		{{if jQuery(message.stages).length}}		{{tmpl({ 			message: {				id : $item.data.message.shlstid, 				name : $item.data.message.shlstname,				total : $item.data.message.total,				pgsz : $item.data.message.pgsz,				pgno : $item.data.message.pgno,			},			service: 'stages', 			panel : '#stages-' + ($item.data.id || $item.data.message.shlstid), 			showpages : true,			alltxt : 'All',			tpl : '#tpl-stges-block'		}) "#tpl-pgn-lst-new"}}	{{/if}}</script><script id="tpl-stge-view" type="text/x-jquery-tmpl"> 	<div id="stge-view-${message.stageid}" class="tile-content ${key}-${message.stageid} smart-panel data-table-panel">		{{tmpl "#tpl-stge-info"}}	</div></script><script id="tpl-stge-info" type="text/x-jquery-tmpl"> 	{{tmpl({		admin : $item.data.message.admin,		name : $item.data.message.stage.name + ' Stage',		tiles : [		]	}) "#tpl-tile-menu"}}		{{tmpl({		message : {			stage : $item.data.message.stage,			students : $item.data.message.students,			stageid : $item.data.message.stageid,			btname : $item.data.message.btname,			stage : $item.data.message.stage,			padmin : $item.data.message.admin,			admin : $item.data.message.stdadmin,			id : $item.data.message.id,			name : $item.data.message.name,			total : $item.data.message.total,			pgsz : $item.data.message.pgsz,			pgno : $item.data.message.pgno,			navigator : $item.data.message.navigator || $item.data.navigator,			pchain : $item.data.message.chain		},		id : $item.data.id,		key : $item.data.key,		user : $item.data.user || '',		service : 'stage'	}) "#tpl-stds-tcs"}}</script>